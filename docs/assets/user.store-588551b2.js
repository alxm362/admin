import{N as _,B as C,g as p,O as o}from"./index-3efd29d9.js";const L=_("user",()=>{const r=C(),a="users",c=p([]),i=p(!1);function u(e){c.value=e}function h(e){i.value=e}function P(e){var t;return(t=c.value)==null?void 0:t.find(s=>s._id===e)}function n(e,t){const s=c.value;if(!s)return;const d=s.findIndex(l=>l._id===e);s[d]=t,u(s)}async function y(){h(!1);try{const e=await o.get(`master/${a}`);u(e.data.data.users)}catch(e){console.error(e),r.handlePost(e.response)}h(!0)}async function f(e){try{r.setPost(!0);const t=e.userId,s=await o.put(`master/${a}/update-profile/${t}`,e);n(t,s.data.data.user),r.handlePost(s)}catch(t){console.error(t),r.handlePost(t.response)}}async function $(e){try{r.setPost(!0);const t=e.userId,s=await o.put(`master/${a}/update-mining/${t}`,e);n(t,s.data.data.user),r.handlePost(s)}catch(t){console.error(t),r.handlePost(t.response)}}async function I(e){try{r.setPost(!0);const t=e.userId,s=await o.patch(`master/${a}/update-mining-status/${t}`,e);n(t,s.data.data.user),r.handlePost(s)}catch(t){console.error(t),r.handlePost(t.response)}}async function w(e){try{r.setPost(!0);const t=e.userId,s=await o.put(`master/${a}/withdrawal/${t}`,e);n(t,s.data.data.user),r.handlePost(s)}catch(t){console.error(t),r.handlePost(t.response)}}async function U(e){try{r.setPost(!0);const t=e.userId,s=await o.put(`master/${a}/alert/${t}`,e);n(t,s.data.data.user),r.handlePost(s)}catch(t){console.error(t),r.handlePost(t.response)}}async function m(e){try{r.setPost(!0);const t=e.userId,s=await o.patch(`master/${a}/update-kyc-status/${t}`,e);n(t,s.data.data.user),r.handlePost(s)}catch(t){console.error(t),r.handlePost(t.response)}}async function g(e){try{r.setPost(!0);const t=e.userId,s=await o.patch(`master/${a}/update-card/${t}`,e);n(t,s.data.data.user),r.handlePost(s)}catch(t){console.error(t),r.handlePost(t.response)}}async function v(e){try{r.setPost(!0);const t=e.userId,s=await o.patch(`master/${a}/update-card-linking/${t}`,e);n(t,s.data.data.user),r.handlePost(s)}catch(t){console.error(t),r.handlePost(t.response)}}async function S(e){try{r.setPost(!0);const t=e.userId,s=await o.patch(`master/${a}/update-email/${t}`,e);n(t,s.data.data.user),r.handlePost(s)}catch(t){console.error(t),r.handlePost(t.response)}}async function x(e,t){try{r.setPost(!0);const s=await o.patch(`master/${a}/update-status/${e}`,{status:t});n(e,s.data.data.user),r.handlePost(s)}catch(s){console.error(s),r.handlePost(s.response)}}async function k(e){try{r.setPost(!0);const t=await o.patch(`master/${a}/verify-email/${e}`);n(e,t.data.data.user),r.handlePost(t)}catch(t){console.error(t),r.handlePost(t.response)}}async function A(e){try{r.setPost(!0);const t=await o.delete(`master/${a}/delete/${e}`),s=c.value;if(!s)return;const d=s.filter(l=>l._id!==e);u(d),r.handlePost(t)}catch(t){console.error(t),r.handlePost(t.response)}}async function B(e,t){try{r.setPost(!0);const s=await o.patch(`master/${a}/fund/${e}`,t);n(e,s.data.data.user),r.handlePost(s)}catch(s){console.error(s),r.handlePost(s.response)}}return{loaded:i,users:c,findById:P,fetchAll:y,updateUserProfile:f,updateUserEmail:S,updateUserStatus:x,verifyEmail:k,deleteUser:A,fundUserAccount:B,updateUserMining:$,updateUserMiningStatus:I,updateUserWithdrawal:w,updateUserAlert:U,updateUserKyc:m,updateUserCard:g,updateUserCardLinking:v}});export{L as u};
